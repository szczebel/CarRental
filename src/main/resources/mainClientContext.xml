<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <bean id="remoteTestService"
          class="org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean">
        <property name="serviceUrl"
                  value="http://localhost:8088/http/TestService">
        </property>
        <property name="serviceInterface"
                  value="common.service.TestService">
        </property>
    </bean>

    <!--todo: replace with real remote services-->
    <bean id="remoteFleetService" class="mocks.MockFleetService"/>
    <bean id="remoteClientService" class="mocks.MockClientService"/>
    <bean id="remoteRentalService" class="mocks.MockRentalService">
        <property name="mockFleetService" ref="remoteFleetService"/>
        <property name="mockClientService" ref="remoteClientService"/>
    </bean>
    <bean id="remoteAvailabilityService" class="mocks.MockAvailabilityService">
        <property name="mockFleetService" ref="remoteFleetService"/>
        <property name="mockRentalService" ref="remoteRentalService"/>
    </bean>


    <bean class="client.ui.MainFrameBuilder" init-method="buildAndShow">
        <property name="testService" ref="remoteTestService"/>
        <property name="fleetViewBuilder">
            <bean class="client.ui.FleetViewBuilder">
                <property name="fleetService" ref="remoteFleetService"/>
            </bean>
        </property>

        <property name="clientListViewBuilder">
            <bean class="client.ui.ClientListViewBuilder">
                <property name="clientService" ref="remoteClientService"/>
            </bean>
        </property>

        <property name="availableCarsViewBuilder">
            <bean class="client.ui.AvailableCarsViewBuilder">
                <property name="availabilityService" ref="remoteAvailabilityService"/>
                <property name="rentalService" ref="remoteRentalService"/>
            </bean>
        </property>
    </bean>


</beans>